{"version":3,"file":"vendors.3a07f4b4fff95b43f424.js","mappings":"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","sources":["webpack://homework_40/./src/app/db.ts","webpack://homework_40/./src/app/helpers.ts","webpack://homework_40/./src/app/modal.ts","webpack://homework_40/./src/app/todo.ts","webpack://homework_40/./src/app/types.ts","webpack://homework_40/./src/index.ts","webpack://homework_40/./src/styles/index.scss","webpack://homework_40/./src/styles/index.scss?3116"],"sourcesContent":["import { DBRecord, Nullable } from './types';\r\n\r\nexport class DBStorageManager {\r\n  private instance: Storage;\r\n  constructor(instance: Storage) {\r\n    this.instance = instance;\r\n  }\r\n  save(key: string, record: DBRecord) {\r\n    this.instance.setItem(key, JSON.stringify(record));\r\n  }\r\n  get(key: string): Nullable<DBRecord> {\r\n    const value = this.instance.getItem(key);\r\n    if (!value) return null;\r\n    return JSON.parse(value);\r\n  }\r\n  getAllRecords(): [string, DBRecord][] {\r\n    return Object.entries(this.instance).map(([key, record]) => [\r\n      key,\r\n      JSON.parse(record),\r\n    ]);\r\n  }\r\n  delete(key: string) {\r\n    this.instance.removeItem(key);\r\n  }\r\n  update(id: string, key: string, value: string) {\r\n    const oldRecord = this.instance.getItem(id);\r\n    if (!oldRecord) return;\r\n    const newRecord: DBRecord = { ...JSON.parse(oldRecord), [key]: value };\r\n    this.save(id, newRecord);\r\n  }\r\n  clear() {\r\n    this.instance.clear();\r\n  }\r\n  subscribeStorage(callback: (e: StorageEvent) => unknown) {\r\n    window.addEventListener('storage', callback);\r\n  }\r\n}\r\n","export function uuid(): string {\r\n  const randLetter = String.fromCharCode(65 + Math.floor(Math.random() * 26));\r\n  return randLetter + Date.now();\r\n}\r\n","import { DBRecord, Nullable } from './types';\r\n\r\nexport class Modal {\r\n  private _modal: Nullable<HTMLDivElement>;\r\n  private _text: Nullable<HTMLParagraphElement>;\r\n  private _title: Nullable<HTMLHeadElement>;\r\n  constructor() {\r\n    this._modal = document.querySelector('.modal');\r\n    this._text = document.querySelector<HTMLParagraphElement>('[data-bs-text]');\r\n    this._title = document.querySelector<HTMLHeadElement>('[data-bs-title]');\r\n    this._modal?.addEventListener('click', this.closeModal);\r\n  }\r\n  public closeModal = (e: Event) => {\r\n    const target = e.target as HTMLElement;\r\n    if (target.getAttribute('data-bs-dismiss')) {\r\n      this._modal?.classList.toggle('show-modal');\r\n    }\r\n  };\r\n  public openModal({ value, status }: DBRecord, id: string) {\r\n    if (this._modal) this._modal.classList.toggle('show-modal');\r\n    if (this._text) this._text.innerText = value;\r\n    if (this._title) this._title.innerText = `Task#${id} Status:${status}`;\r\n  }\r\n}\r\n","import { DBStorageManager } from './db';\r\nimport { uuid } from './helpers';\r\nimport { Modal } from './modal';\r\nimport { DBRecord, Nullable, STATUSES } from './types';\r\n\r\nexport class Todo {\r\n  private form: Nullable<HTMLFormElement>;\r\n  private todoListContainer: Nullable<HTMLDivElement>;\r\n  private db: DBStorageManager;\r\n  private modal: Modal;\r\n  constructor(db: DBStorageManager, modal: Modal) {\r\n    this.form = document.querySelector<HTMLFormElement>('.form');\r\n    this.todoListContainer =\r\n      document.querySelector<HTMLDivElement>('.todo-list');\r\n    this.db = db;\r\n    this.init();\r\n    this.initEvents();\r\n    this.db.subscribeStorage(this.handleStorageEvent.bind(this));\r\n    this.modal = modal;\r\n    console.log('xaxa');\r\n  }\r\n  private init(): void {\r\n    this.db.getAllRecords().forEach(([key, data]) => {\r\n      this.drawItem(data, key);\r\n    });\r\n  }\r\n  private initEvents(): void {\r\n    if (this.form) this.form?.addEventListener('submit', this.add.bind(this));\r\n\r\n    this.todoListContainer?.addEventListener(\r\n      'click',\r\n      this.handleTodoItemEvents.bind(this)\r\n    );\r\n  }\r\n  drawItem(data: DBRecord, id: string): void {\r\n    if (!this.todoListContainer) return;\r\n\r\n    const li = document.createElement('li');\r\n    const label = document.createElement('label');\r\n    const checkbox = document.createElement('input');\r\n    const deleteBtn = document.createElement('button');\r\n    const showModal = document.createElement('button');\r\n\r\n    checkbox.classList.add('form-check-input');\r\n    checkbox.setAttribute('type', 'checkbox');\r\n    checkbox.setAttribute('id', id);\r\n    checkbox.checked = data.status === STATUSES.SUBMITED;\r\n    label.classList.add('todo-list__item-text');\r\n    label.setAttribute('for', id);\r\n    label.textContent = data.value;\r\n    li.setAttribute('data-todo-id', id);\r\n    li.classList.add('todo-list__item');\r\n\r\n    deleteBtn.textContent = 'delete';\r\n    deleteBtn.classList.add('btn', 'btn-danger', 'todo-list__item-btn');\r\n    showModal.classList.add('btn', 'btn-primary', 'todo-list__item-modalShow');\r\n    showModal.textContent = 'show modal';\r\n\r\n    li.appendChild(checkbox);\r\n    li.appendChild(label);\r\n    li.appendChild(deleteBtn);\r\n    li.appendChild(showModal);\r\n    this.todoListContainer.appendChild(li);\r\n  }\r\n  onDelete(target: any) {\r\n    target.parentElement.remove();\r\n    this.db.delete(target.parentElement.getAttribute('data-todo-id') as string);\r\n  }\r\n  onModalOpen(target: any) {\r\n    const id = target.parentElement.getAttribute('data-todo-id');\r\n\r\n    const record = this.db.get(id);\r\n    if (record) this.modal.openModal(record, id);\r\n  }\r\n  onCheckboxToggle(target: any) {\r\n    const id = target.parentElement.getAttribute('data-todo-id');\r\n    target.parentElement.classList.toggle('submited');\r\n    this.db.update(\r\n      String(id),\r\n      'status',\r\n      (target as HTMLInputElement).checked\r\n        ? STATUSES.SUBMITED\r\n        : STATUSES.IN_PROGRES\r\n    );\r\n  }\r\n\r\n  handleTodoItemEvents(e: Event) {\r\n    console.log(e);\r\n    const target = e.target as Element;\r\n    if (!target?.parentElement) return;\r\n    if (target.classList.contains('todo-list__item-btn')) {\r\n      this.onDelete(target);\r\n    }\r\n    if (target.classList.contains('todo-list__item-modalShow')) {\r\n      this.onModalOpen(target);\r\n    }\r\n    if (target.classList.contains('form-check-input')) {\r\n      this.onCheckboxToggle(target);\r\n    }\r\n  }\r\n  add(e: Event) {\r\n    const target = e.target as HTMLFormElement;\r\n    e.preventDefault();\r\n    const inputTask = new FormData(target).get('task');\r\n    const uniqueId = uuid();\r\n    const newRecord = { status: STATUSES.IN_PROGRES, value: String(inputTask) };\r\n    this.db.save(uniqueId, newRecord);\r\n    this.drawItem(newRecord, uniqueId);\r\n\r\n    this.form?.reset();\r\n  }\r\n  handleStorageEvent(e: StorageEvent) {\r\n    if (e.newValue) {\r\n      this.drawItem(JSON.parse(e.newValue), String(e.key));\r\n    }\r\n    if (e.oldValue && this.todoListContainer) {\r\n      const todoItems = Array.from(this.todoListContainer?.children);\r\n      const node = todoItems.find(\r\n        node => node.getAttribute('data-todo-id') === e.key\r\n      );\r\n      node?.remove();\r\n    }\r\n  }\r\n}\r\n","export type Nullable<T> = T | null;\r\nexport enum STATUSES {\r\n  SUBMITED = 'Submited',\r\n  IN_PROGRES = 'In Progres',\r\n}\r\nexport interface DBRecord {\r\n  value: string;\r\n  status: STATUSES;\r\n}\r\n","import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport { DBStorageManager } from './app/db';\r\nimport { Modal } from './app/modal';\r\nimport { Todo } from './app/todo';\r\nimport img from './assets/image1.png';\r\nimport './styles/index.scss';\r\n\r\nconst modal = new Modal();\r\n\r\nconst db = new DBStorageManager(localStorage);\r\n\r\nimport('./app/dynamicChunk').then(module => {\r\n  const myFunc = module.default;\r\n  new Todo(db, modal);\r\n  console.log(img);\r\n  console.log(myFunc());\r\n});\r\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `*{margin:0;padding:0}ul{list-style:none;padding-left:0}body{display:flex;align-items:center;justify-content:center;height:100vh}.header{margin-bottom:30px}.todo-list{counter-reset:todo}.todo-list__item{display:flex;gap:15px;align-items:center;text-wrap:nowrap}.todo-list__item:not(:last-child){margin-bottom:10px}.todo-list__item-text{font-size:22px;margin-bottom:0;text-overflow:ellipsis;overflow:hidden}.todo-list__item-btn{margin-left:auto}.todo-list__item::before{font-weight:bold;font-size:22px}.modal.show-modal{display:block}.show-modal{background-color:rgba(0,0,0,.5)}::placeholder{color:gray}.image{user-select:none}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/styles/main.scss\"],\"names\":[],\"mappings\":\"AAAA,EACE,QAAA,CACA,SAAA,CAEF,GACE,eAAA,CACA,cAAA,CAEF,KACE,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,YAAA,CAEF,QACE,kBAAA,CAEF,WACE,kBAAA,CAEF,iBACE,YAAA,CACA,QAAA,CACA,kBAAA,CACA,gBAAA,CAEF,kCACE,kBAAA,CAEF,sBACE,cAAA,CACA,eAAA,CACA,sBAAA,CACA,eAAA,CAEF,qBACE,gBAAA,CAEF,yBAIE,gBAAA,CACA,cAAA,CAEF,kBACE,aAAA,CAEF,YACE,+BAAA,CAEF,cACE,UAAA,CAGF,OAEE,gBAAA\",\"sourcesContent\":[\"* {\\r\\n  margin: 0;\\r\\n  padding: 0;\\r\\n}\\r\\nul {\\r\\n  list-style: none;\\r\\n  padding-left: 0;\\r\\n}\\r\\nbody {\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n  height: 100vh;\\r\\n}\\r\\n.header {\\r\\n  margin-bottom: 30px;\\r\\n}\\r\\n.todo-list {\\r\\n  counter-reset: todo;\\r\\n}\\r\\n.todo-list__item {\\r\\n  display: flex;\\r\\n  gap: 15px;\\r\\n  align-items: center;\\r\\n  text-wrap: nowrap;\\r\\n}\\r\\n.todo-list__item:not(:last-child) {\\r\\n  margin-bottom: 10px;\\r\\n}\\r\\n.todo-list__item-text {\\r\\n  font-size: 22px;\\r\\n  margin-bottom: 0;\\r\\n  text-overflow: ellipsis;\\r\\n  overflow: hidden;\\r\\n}\\r\\n.todo-list__item-btn {\\r\\n  margin-left: auto;\\r\\n}\\r\\n.todo-list__item::before {\\r\\n  /* content: 'Task#' attr(data-todo-id); */\\r\\n  /* content: 'Task ' counter(todo) ': '; */\\r\\n  /* counter-increment: todo; */\\r\\n  font-weight: bold;\\r\\n  font-size: 22px;\\r\\n}\\r\\n.modal.show-modal {\\r\\n  display: block;\\r\\n}\\r\\n.show-modal {\\r\\n  background-color: rgba(0, 0, 0, 0.5);\\r\\n}\\r\\n::placeholder {\\r\\n  color: gray;\\r\\n}\\r\\n\\r\\n.image {\\r\\n  // background-image: url(image@1x.png);\\r\\n  user-select: none;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./index.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[2].use[2]!./index.scss\";\n       export default content && content.locals ? content.locals : undefined;\n"],"names":["DBStorageManager","constructor","instance","save","key","record","setItem","JSON","stringify","get","value","getItem","parse","getAllRecords","Object","entries","map","_ref","delete","removeItem","update","id","oldRecord","newRecord","clear","subscribeStorage","callback","window","addEventListener","uuid","randLetter","String","fromCharCode","Math","floor","random","Date","now","Modal","_modal","document","querySelector","_text","_title","closeModal","e","target","getAttribute","classList","toggle","openModal","status","innerText","STATUSES","Todo","db","modal","form","todoListContainer","init","initEvents","handleStorageEvent","bind","console","log","forEach","data","drawItem","add","handleTodoItemEvents","li","createElement","label","checkbox","deleteBtn","showModal","setAttribute","checked","SUBMITED","textContent","appendChild","onDelete","parentElement","remove","onModalOpen","onCheckboxToggle","IN_PROGRES","contains","preventDefault","inputTask","FormData","uniqueId","reset","newValue","oldValue","todoItems","Array","from","children","node","find","img","localStorage","then","module","myFunc","default"],"sourceRoot":""}